webpackJsonp([4],{55:function(e,t){e.exports=function(e,t,a,n,i,r){var s,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,o=e.default);var c,p="function"==typeof o?o.options:o;if(t&&(p.render=t.render,p.staticRenderFns=t.staticRenderFns,p._compiled=!0),a&&(p.functional=!0),i&&(p._scopeId=i),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},p._ssrRegister=c):n&&(c=n),c){var d=p.functional,u=d?p.render:p.beforeCreate;d?(p._injectStyles=c,p.render=function(e,t){return c.call(t),u(e,t)}):p.beforeCreate=u?[].concat(u,c):[c]}return{esModule:s,exports:o,options:p}}},56:function(e,t,a){var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i=a(57),r={},s=n&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,p=function(){},d=null,u="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e){for(var t=0;t<e.length;t++){var a=e[t],n=r[a.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](a.parts[i]);for(;i<a.parts.length;i++)n.parts.push(h(a.parts[i]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{var s=[];for(i=0;i<a.parts.length;i++)s.push(h(a.parts[i]));r[a.id]={id:a.id,refs:1,parts:s}}}}function m(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function h(e){var t,a,n=document.querySelector("style["+u+'~="'+e.id+'"]');if(n){if(c)return p;n.parentNode.removeChild(n)}if(v){var i=l++;n=o||(o=m()),t=y.bind(null,n,i,!1),a=y.bind(null,n,i,!0)}else n=m(),t=function(e,t){var a=t.css,n=t.media,i=t.sourceMap;n&&e.setAttribute("media",n);d.ssrId&&e.setAttribute(u,t.id);i&&(a+="\n/*# sourceURL="+i.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");if(e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}.bind(null,n),a=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else a()}}e.exports=function(e,t,a,n){c=a,d=n||{};var s=i(e,t);return f(s),function(t){for(var a=[],n=0;n<s.length;n++){var o=s[n];(l=r[o.id]).refs--,a.push(l)}t?f(s=i(e,t)):s=[];for(n=0;n<a.length;n++){var l;if(0===(l=a[n]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}};var b,g=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function y(e,t,a,n){var i=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}},57:function(e,t){e.exports=function(e,t){for(var a=[],n={},i=0;i<t.length;i++){var r=t[i],s=r[0],o={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};n[s]?n[s].parts.push(o):a.push(n[s]={id:s,parts:[o]})}return a}},75:function(e,t,a){var n=a(76);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(56)("505e275f",n,!0,{})},76:function(e,t,a){(e.exports=a(14)(!1)).push([e.i,".v-avatar[data-v-160486bc]{position:absolute;left:25px;overflow:hidden;top:-128px;border-radius:50%!important;-webkit-transition:.2s linear;transition:.2s linear}.file[data-v-160486bc],.v-avatar[data-v-160486bc],.v-avatar img[data-v-160486bc]{-webkit-box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.file[data-v-160486bc]{position:absolute;width:100%;height:100%;border-radius:64px;top:0;left:0;cursor:pointer;z-index:4;opacity:0}.v-card__title[data-v-160486bc]{padding-top:148px!important}.v-card[data-v-160486bc]{margin:128px 0 0}.v-card .v-avatar[data-v-160486bc]{cursor:pointer}",""])},77:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default={data:function(){return{show:!1,avatarSize:256,tile:!0,switch1:!1,Company:{name:"",activities:[],logo:void 0,type:{name:"ООО"}},alert:{enable:!1},NewActivity:"",activities:[{name:"IT"},{name:"Проектирование"}],types:[{name:"ООО"},{name:"ОАО"},{name:"АО"},{name:" ПАО"},{name:" ИП"}]}},methods:i({},Object(n.b)({AddCompany:"user/AddCompany"}),{remove:function(e){console.log(e);var t=this.Company.activities.indexOf(e.name);t>=0&&this.Company.activities.splice(t,1)},onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&(this.createImage(this.Company,t[0]),this.isActive=!1)},createImage:function(e,t){new Image;var a=new FileReader;a.onload=function(t){e.logo=t.target.result},a.readAsDataURL(t)},removeImage:function(e){e.image=!1},submit:function(){var e=new FormData;e.append("logo",this.$refs.file.files[0]),e.append("name",this.Company.name),e.append("creator",this.user),e.append("website",this.Company.website),e.append("activities",JSON.stringify(this.Company.activities));var t=this;axios.post("/api/auth/company",e).then(function(e){t.AddCompany(e.data)}).catch(function(e){t.alert.message=e.response.data.message,t.alert.enable=!0})}}),computed:i({},Object(n.c)({user:"user/GetUserId"}))}},78:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-flex",{attrs:{xl6:"",lg6:"",md6:"",sm12:"",xs12:""}},[a("v-card",[a("v-avatar",{attrs:{tile:e.tile,size:e.avatarSize,color:"grey lighten-4"}},[a("input",{ref:"file",staticClass:"file",attrs:{type:"file",accept:"image/jpeg,image/png,image/gif"},on:{change:e.onFileChange}}),e._v(" "),e.Company.logo?a("img",{attrs:{src:e.Company.logo}}):a("v-icon",{attrs:{alt:"avatar"}},[e._v("add_circle_outline")])],1),e._v(" "),a("v-card-title",{attrs:{"primary-title":""}},[a("v-flex",{attrs:{row:""}},[a("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.alert.enable,callback:function(t){e.$set(e.alert,"enable",t)},expression:"alert.enable"}},[e._v(e._s(e.alert.message))]),e._v(" "),a("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":"",wrap:""}},[a("v-flex",{attrs:{xl3:"",md12:"",sm12:""}},[a("v-select",{attrs:{items:e.types,outline:"","offset-y":"",label:"Тип юридического лица","item-text":"name","item-value":"name"},model:{value:e.Company.type,callback:function(t){e.$set(e.Company,"type",t)},expression:"Company.type"}})],1),e._v(" "),a("v-flex",{attrs:{xl8:"","offset-xl1":"",md12:"",sm12:""}},[a("v-text-field",{attrs:{outline:"",label:"Название компании","append-icon":"business"},model:{value:e.Company.name,callback:function(t){e.$set(e.Company,"name",t)},expression:"Company.name"}})],1)],1),e._v(" "),a("v-text-field",{attrs:{outline:"",label:"Сайт компании","append-icon":"web"},model:{value:e.Company.website,callback:function(t){e.$set(e.Company,"website",t)},expression:"Company.website"}}),e._v(" "),0==e.switch1?a("v-autocomplete",{attrs:{items:e.activities,outline:"",chips:"",label:"Сферы деятельности","item-text":"name","item-value":"name",multiple:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{staticClass:"chip--select-multi",attrs:{selected:t.selected,close:""},on:{input:function(a){e.remove(t.item)}}},[e._v("\n                                "+e._s(t.item.name)+"\n                            ")])]}},{key:"item",fn:function(t){return["object"!=typeof t.item?[a("v-list-tile-content",{domProps:{textContent:e._s(t.item)}})]:[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.name)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.item.group)}})],1)]]}}]),model:{value:e.Company.activities,callback:function(t){e.$set(e.Company,"activities",t)},expression:"Company.activities"}}):a("v-text-field",{attrs:{outline:"",label:"Введите свой вариант сферы деятельности","append-icon":"edit"},model:{value:e.NewActivity,callback:function(t){e.NewActivity=t},expression:"NewActivity"}}),e._v(" "),a("v-switch",{attrs:{label:"Нет подходящего варианта",color:"primary",disabled:e.Company.activities.length>0},model:{value:e.switch1,callback:function(t){e.switch1=t},expression:"switch1"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"secondary"},on:{click:e.submit}},[e._v("Создать")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},94:function(e,t,a){var n=a(55)(a(77),a(78),!1,function(e){a(75)},"data-v-160486bc",null);e.exports=n.exports}});